{"ast":null,"code":"import _objectSpread from\"L:/Bacon/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Import the functions you need from the SDKs you need\nimport{initializeApp}from\"firebase/app\";import{getDatabase,ref,set,get,push,update}from\"firebase/database\";import{WordRushGameObject}from\"./WordRushGameObject.js\";import{MatchGameDataObject}from\"./MatchGameDataObject.js\";import Cookies from\"js-cookie\";import{UpdateMiniGameDataObject}from\"./MiniGameDataObject.js\";// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\nconst firebaseConfig={apiKey:\"AIzaSyDGF3-zASzVYB55mIlv4hePRCRZ0XBQ9no\",authDomain:\"bacon-hub.firebaseapp.com\",databaseURL:\"https://bacon-hub-default-rtdb.europe-west1.firebasedatabase.app\",projectId:\"bacon-hub\",storageBucket:\"bacon-hub.firebasestorage.app\",messagingSenderId:\"609840217142\",appId:\"1:609840217142:web:c338dd01b0851c35adec97\"};// Initialize Firebase\nconst app=initializeApp(firebaseConfig);const db=getDatabase(app);export function CreateUserDataObject(name,password){const user={name:name,password:password,wordrush:WordRushGameObject(),match:MatchGameDataObject()};return user;}export async function UserExist(name){try{const table=ref(db,\"users\");const snapshot=await get(table);if(!snapshot.exists)return false;const user=snapshot.val();const exist=Object.values(user).some(u=>u.name===name);return exist;}catch(err){console.log({error:err.message});return undefined;}}export async function getUser(name,password){try{const table=ref(db,\"users\");const snapshot=await get(table);const users=snapshot.val();for(const[id,user]of Object.entries(users)){if(user.name===name&&user.password===password){return _objectSpread({id},user);}}return undefined;}catch(err){console.log({error:err.message});}}export async function UpdateMatchGameScore(score){try{const cookieUser=Cookies.get(\"user\");if(cookieUser===undefined||cookieUser===\"\")return false;const userSave=JSON.parse(cookieUser);const user=await getUser(userSave.name,userSave.password);const userRef=ref(db,\"users/\"+user.id+\"/match\");await update(userRef,UpdateMiniGameDataObject(user.match,score));console.log(\"Update MatchGame Score with success\");return true;}catch(err){console.log({error:err.message});return false;}}export async function UpdateWordRushGameScore(score){try{const cookieUser=Cookies.get(\"user\");if(cookieUser===undefined||cookieUser===\"\")return false;const userSave=JSON.parse(cookieUser);const user=await getUser(userSave.name,userSave.password);const userRef=ref(db,\"users/\"+user.id+\"/wordrush\");await update(userRef,UpdateMiniGameDataObject(user.wordrush,score));console.log(\"Update WordRush Score with success\");}catch(err){console.log({error:err.message});return false;}}export async function CreateNewUser(user){try{console.log(user);if(user.name===undefined||user.name===\"\"||user.name.length===0){alert(\"Name con not be null\");return false;}const exist=await UserExist(user.name);if(exist){alert(\"This Nick Name was register\");console.log(\"This user exist\");return false;}const table=ref(db,\"users\");await push(table,user);return true;}catch(err){console.log({error:err.message});return false;}}","map":{"version":3,"names":["initializeApp","getDatabase","ref","set","get","push","update","WordRushGameObject","MatchGameDataObject","Cookies","UpdateMiniGameDataObject","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","db","CreateUserDataObject","name","password","user","wordrush","match","UserExist","table","snapshot","exists","val","exist","Object","values","some","u","err","console","log","error","message","undefined","getUser","users","id","entries","_objectSpread","UpdateMatchGameScore","score","cookieUser","userSave","JSON","parse","userRef","UpdateWordRushGameScore","CreateNewUser","length","alert"],"sources":["L:/Bacon/src/db/firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getDatabase, ref, set, get, push, update } from \"firebase/database\";\r\nimport { WordRushGameObject } from \"./WordRushGameObject.js\";\r\nimport { MatchGameDataObject } from \"./MatchGameDataObject.js\";\r\nimport Cookies from \"js-cookie\";\r\nimport { UpdateMiniGameDataObject } from \"./MiniGameDataObject.js\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDGF3-zASzVYB55mIlv4hePRCRZ0XBQ9no\",\r\n  authDomain: \"bacon-hub.firebaseapp.com\",\r\n  databaseURL: \"https://bacon-hub-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"bacon-hub\",\r\n  storageBucket: \"bacon-hub.firebasestorage.app\",\r\n  messagingSenderId: \"609840217142\",\r\n  appId: \"1:609840217142:web:c338dd01b0851c35adec97\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getDatabase(app)\r\n\r\nexport function CreateUserDataObject(name, password){\r\n    const user = {\r\n        name: name,\r\n        password: password,\r\n        wordrush: WordRushGameObject(),\r\n        match: MatchGameDataObject()\r\n    }\r\n    return user\r\n}\r\n\r\nexport async function UserExist(name){\r\n    try{\r\n        const table = ref(db,\"users\")\r\n        const snapshot = await get(table)\r\n\r\n        if (!snapshot.exists) return false\r\n\r\n        const user = snapshot.val()\r\n\r\n        const exist = Object.values(user).some((u) => u.name === name)\r\n\r\n        return exist\r\n    } catch(err){\r\n        console.log({error: err.message})\r\n        return undefined\r\n    }\r\n}\r\n\r\nexport async function getUser(name, password) {\r\n    try{\r\n        const table = ref(db,\"users\")\r\n        const snapshot = await get(table)\r\n        const users = snapshot.val()\r\n        for(const [id,user] of Object.entries(users)){\r\n            if (user.name === name && user.password === password){\r\n                return {id, ...user}\r\n            }\r\n        }\r\n        return undefined\r\n    } catch(err){\r\n        console.log({error: err.message})\r\n    }\r\n}\r\n\r\nexport async function UpdateMatchGameScore(score){\r\n    try{\r\n        const cookieUser = Cookies.get(\"user\")\r\n        if (cookieUser === undefined || cookieUser === \"\") return false\r\n        const userSave = JSON.parse(cookieUser)\r\n        const user = await getUser(userSave.name, userSave.password)\r\n        const userRef = ref(db,\"users/\" + user.id + \"/match\")\r\n        await update(userRef, UpdateMiniGameDataObject(user.match,score))\r\n        console.log(\"Update MatchGame Score with success\")\r\n        return true\r\n    } catch(err){\r\n        console.log({error: err.message})\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function UpdateWordRushGameScore(score) {\r\n    try{\r\n        const cookieUser = Cookies.get(\"user\")\r\n        if (cookieUser === undefined || cookieUser === \"\") return false\r\n        const userSave = JSON.parse(cookieUser)\r\n        const user = await getUser(userSave.name, userSave.password)\r\n        const userRef = ref(db,\"users/\" + user.id + \"/wordrush\")\r\n        await update(userRef, UpdateMiniGameDataObject(user.wordrush,score))\r\n        console.log(\"Update WordRush Score with success\")\r\n    } catch(err){\r\n        console.log({error: err.message})\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function CreateNewUser(user){\r\n    try{\r\n        console.log(user)\r\n        if (user.name === undefined || user.name === \"\" || user.name.length === 0){\r\n            alert(\"Name con not be null\")\r\n            return false\r\n        }\r\n        const exist = await UserExist(user.name)\r\n        if (exist){\r\n            alert(\"This Nick Name was register\")\r\n            console.log(\"This user exist\")\r\n            return false\r\n        }\r\n        const table = ref(db,\"users\")\r\n        await push(table,user)\r\n        return true\r\n    } catch(err){\r\n        console.log({error: err.message})\r\n        return false\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}