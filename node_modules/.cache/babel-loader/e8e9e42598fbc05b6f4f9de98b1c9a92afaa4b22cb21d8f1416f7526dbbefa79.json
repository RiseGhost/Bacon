{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Board}from\"./Board\";import{TimerShow}from\"../TimerShow\";import{Cheese,HamburgerBreadButtom,HamburgerBreadTop,Hamburguer}from\"./MapBlock\";import{HAMBURGUER,CHEESE}from\"./CheckWin\";import{PopupRolesMatchGame,PopupGameEnd}from\"../PopUps/popup\";import{UpdateMatchGameScore}from\"../db/firebase\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var RandomNewMinMeets=0;//Images to Load in start time\nconst imagesPaths=[\"/public/Images/Pão base.svg\",\"/public/Images/Pão topo.svg\",\"/public/Images/Cheese.svg\",\"/public/Images/Hamburguer.svg\"];export function BoardPage(){const[clock,SetClok]=useState(20);const[score,SetScore]=useState(0);const[foods,setFoods]=useState([]);const[loading,setLoading]=useState(true);const[popupState,setState]=useState(true);const[meets,setMeets]=useState(0);const[minMeets,setMinMeets]=useState(0);const[save,setSave]=useState(false);const meetsCollets=foods.filter(x=>x==HAMBURGUER);useEffect(()=>{const dif=meets-minMeets;RandomNewMinMeets=Math.floor(Math.random()*dif)+minMeets;},[meets,minMeets]);// Loading images process\nuseEffect(()=>{const loadImages=async()=>{const load=imagesPaths.map(imgsrc=>{new Promise((resolve,reject)=>{const img=new Image();img.src=imgsrc;img.onload=resolve();img.onerror=reject();});});try{await Promise.all(load);setLoading(false);console.log(\"Loading sucess!!!\");}catch(erro){console.log(erro);setLoading(false);}};loadImages();},[]);if(loading)return/*#__PURE__*/_jsx(\"h1\",{style:{color:\"white\"},children:\"Loading...\"});// Ending Loading\nsetTimeout(()=>{if(!popupState)SetClok(clock-0.050);},50);if(popupState)return/*#__PURE__*/_jsx(PopupRolesMatchGame,{setState:setState});if(clock<=0){if(!save){UpdateMatchGameScore(score);setSave(true);}return/*#__PURE__*/_jsx(PopupGameEnd,{});}else return/*#__PURE__*/_jsxs(\"div\",{className:\"GamePage\",children:[/*#__PURE__*/_jsx(TimerShow,{startTime:120,currentTime:clock.toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"BoardContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Frigideira\",children:[/*#__PURE__*/_jsx(Board,{score:score,setScore:SetScore,setFoods:setFoods,setMeets:setMeets,setMinMeets:setMinMeets}),/*#__PURE__*/_jsx(\"div\",{className:\"Fire\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Pega\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Cano\",children:/*#__PURE__*/_jsx(\"div\",{className:\"CanoHope\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InfoMatchSide\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MatchScoreContainer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Score Points:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:score})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Customer request\"}),/*#__PURE__*/_jsx(\"br\",{}),(()=>{if(meetsCollets.length>=RandomNewMinMeets&&meetsCollets.length<=meets)return/*#__PURE__*/_jsxs(\"span\",{children:[RandomNewMinMeets,\" - \",meets,\" (meets) \\u2705\"]});else return/*#__PURE__*/_jsxs(\"span\",{children:[RandomNewMinMeets,\" - \",meets,\" (meets)\"]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Plate\",children:[/*#__PURE__*/_jsx(HamburgerBreadButtom,{}),foods.map(x=>{if(x===HAMBURGUER)return/*#__PURE__*/_jsx(Hamburguer,{});else if(x===CHEESE)return/*#__PURE__*/_jsx(Cheese,{});}),/*#__PURE__*/_jsx(HamburgerBreadTop,{})]})]})]})]});}","map":{"version":3,"names":["useEffect","useState","Board","TimerShow","Cheese","HamburgerBreadButtom","HamburgerBreadTop","Hamburguer","HAMBURGUER","CHEESE","PopupRolesMatchGame","PopupGameEnd","UpdateMatchGameScore","jsx","_jsx","jsxs","_jsxs","RandomNewMinMeets","imagesPaths","BoardPage","clock","SetClok","score","SetScore","foods","setFoods","loading","setLoading","popupState","setState","meets","setMeets","minMeets","setMinMeets","save","setSave","meetsCollets","filter","x","dif","Math","floor","random","loadImages","load","map","imgsrc","Promise","resolve","reject","img","Image","src","onload","onerror","all","console","log","erro","style","color","children","setTimeout","className","startTime","currentTime","toFixed","setScore","length"],"sources":["L:/Bacon/src/Match/BoardPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Board } from \"./Board\";\r\nimport { TimerShow } from \"../TimerShow\";\r\nimport { Cheese, HamburgerBreadButtom, HamburgerBreadTop, Hamburguer } from \"./MapBlock\";\r\nimport { HAMBURGUER, CHEESE } from \"./CheckWin\";\r\nimport { PopupRolesMatchGame, PopupGameEnd } from \"../PopUps/popup\";\r\nimport { UpdateMatchGameScore } from \"../db/firebase\";\r\nvar RandomNewMinMeets = 0\r\n\r\n//Images to Load in start time\r\nconst imagesPaths = [\r\n    \"/public/Images/Pão base.svg\",\r\n    \"/public/Images/Pão topo.svg\",\r\n    \"/public/Images/Cheese.svg\",\r\n    \"/public/Images/Hamburguer.svg\"\r\n]\r\n\r\nexport function BoardPage(){\r\n    const [clock,SetClok] = useState(20)\r\n    const [score,SetScore] = useState(0)\r\n    const [foods,setFoods] = useState([])\r\n    const [loading,setLoading] = useState(true)\r\n    const [popupState,setState] = useState(true)\r\n    const [meets,setMeets] = useState(0)\r\n    const [minMeets,setMinMeets] = useState(0)\r\n    const [save, setSave] = useState(false)\r\n    const meetsCollets = foods.filter((x) => x == HAMBURGUER)\r\n\r\n    useEffect(() => {\r\n        const dif = meets - minMeets\r\n        RandomNewMinMeets = Math.floor(Math.random() * dif) + minMeets\r\n    },[meets,minMeets])\r\n\r\n    // Loading images process\r\n    useEffect(() => {\r\n        const loadImages = async () => {\r\n            const load =  imagesPaths.map((imgsrc) => {\r\n                new Promise((resolve,reject) => {\r\n                    const img = new Image()\r\n                    img.src = imgsrc\r\n                    img.onload = resolve()\r\n                    img.onerror = reject()\r\n                })\r\n            })\r\n\r\n            try{\r\n                await Promise.all(load)\r\n                setLoading(false)\r\n                console.log(\"Loading sucess!!!\")\r\n            } catch(erro){\r\n                console.log(erro)\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        loadImages()\r\n    },[])\r\n    if (loading) return (<h1 style={{color: \"white\"}}>Loading...</h1>)\r\n    // Ending Loading\r\n    \r\n    setTimeout(() => {if (!popupState) SetClok(clock - 0.050)},50)\r\n    if (popupState) return ( <PopupRolesMatchGame setState={setState}/> )\r\n    if (clock <= 0) {\r\n        if (!save){\r\n            UpdateMatchGameScore(score)\r\n            setSave(true)\r\n        }\r\n        return ( <PopupGameEnd/> )\r\n    }\r\n    else return (\r\n        <div className=\"GamePage\">\r\n            <TimerShow startTime={120} currentTime={clock.toFixed(2)}/>\r\n            <div className=\"BoardContainer\">\r\n                <div className=\"Frigideira\">\r\n                    <Board score={score} setScore={SetScore} setFoods={setFoods} setMeets={setMeets} setMinMeets={setMinMeets}>\r\n                    </Board>\r\n                    <div className=\"Fire\"></div>\r\n                    <div className=\"Pega\">\r\n                        <div className=\"Cano\">\r\n                            <div className=\"CanoHope\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"InfoMatchSide\">\r\n                    <div className=\"MatchScoreContainer\">\r\n                        <span>Score Points:</span>\r\n                        <br></br>\r\n                        <span>{score}</span>\r\n                    </div>\r\n                    <div>\r\n                        <span>Customer request</span>\r\n                        <br/>\r\n                        {\r\n                            (() => {\r\n                                if (meetsCollets.length >= RandomNewMinMeets && meetsCollets.length <= meets) return <span>{RandomNewMinMeets} - {meets} (meets) ✅</span>\r\n                                else return <span>{RandomNewMinMeets} - {meets} (meets)</span>\r\n                            })()\r\n                        }\r\n                    </div>\r\n                    <div className=\"Plate\">\r\n                        <HamburgerBreadButtom/>\r\n                        {\r\n                            foods.map(x => {\r\n                                if (x === HAMBURGUER) return <Hamburguer/>\r\n                                else if (x === CHEESE) return <Cheese/>\r\n                            })\r\n                        }\r\n                        <HamburgerBreadTop/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}